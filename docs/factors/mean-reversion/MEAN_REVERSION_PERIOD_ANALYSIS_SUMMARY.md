# Mean Reversion Strategy - Period Comparison Analysis

**Date:** 2025-10-25  
**Data:** Combined Coinbase/CoinMarketCap Daily Data (2020-01-01 to 2025-10-24)  
**Symbols:** 172 cryptocurrencies  
**Total Records:** 80,390 rows

## Executive Summary

This backtest compared mean reversion strategies using z-scores for price moves and volume across **7 different lookback periods**: 1, 2, 3, 5, 10, 20, and 30 days.

### Key Finding: **2-day and 10-day periods perform best**

The optimal configuration is:
- **Lookback Period:** 2 days
- **Signal:** Extreme negative z-score (<-1.5) with high volume (z-score > 1.0)
- **Next Day Return:** 1.25% average
- **Sharpe Ratio:** 3.14
- **Win Rate:** 59.2%
- **Sample Size:** 1,494 signals

---

## Best Performing Configurations

### 1-Day Forward Returns (Next Day Performance)

| Rank | Period | Signal Type | Mean Return | Sharpe | Win Rate | Count |
|------|--------|------------|-------------|--------|----------|-------|
| 1 | 2d | Neg Move + High Vol | 1.25% | 3.14 | 59.2% | 1,494 |
| 2 | 10d | Neg Move + High Vol | 1.10% | 3.05 | 55.4% | 1,696 |
| 3 | 5d | Neg Move + High Vol | 1.00% | 2.51 | 56.1% | 1,552 |
| 4 | 3d | Neg Move + High Vol | 0.81% | 1.91 | 54.5% | 1,486 |
| 5 | 2d | Neg Move (any vol) | 0.74% | 2.02 | 56.1% | 4,947 |

### 2-Day Forward Returns

| Rank | Period | Signal Type | Mean Return | Sharpe | Win Rate | Count |
|------|--------|------------|-------------|--------|----------|-------|
| 1 | 2d | Neg Move + High Vol | 1.69% | 2.51 | 57.1% | 1,481 |
| 2 | 5d | Neg Move + High Vol | 1.26% | 1.87 | 54.7% | 1,547 |
| 3 | 2d | Neg Move (any vol) | 1.13% | 1.66 | 54.6% | 4,922 |
| 4 | 10d | Neg Move + High Vol | 1.09% | 1.74 | 53.0% | 1,693 |
| 5 | 20d | Neg Move + High Vol | 0.97% | 1.42 | 54.7% | 2,110 |

### 5-Day Forward Returns

| Rank | Period | Signal Type | Mean Return | Sharpe | Win Rate | Count |
|------|--------|------------|-------------|--------|----------|-------|
| 1 | 5d | Neg Move + High Vol | 2.11% | 1.46 | 56.4% | 1,545 |
| 2 | 20d | Neg Move + Low Vol | 1.62% | 1.21 | 54.1% | 6,605 |
| 3 | 20d | Neg Move (any vol) | 1.58% | 1.17 | 54.0% | 8,714 |
| 4 | 5d | Neg Move (any vol) | 1.44% | 1.04 | 52.7% | 5,838 |
| 5 | 20d | Neg Move + High Vol | 1.43% | 1.07 | 53.7% | 2,109 |

---

## Detailed Analysis by Period

### Average Performance by Lookback Period (1d Forward Returns)

| Period | Avg Return | Avg Sharpe | Avg Win Rate |
|--------|-----------|-----------|--------------|
| **2d** | **0.84%** | **2.21** | **56.7%** |
| **10d** | 0.65% | 1.91 | 53.8% |
| 3d | 0.61% | 1.58 | 54.1% |
| 20d | 0.55% | 1.62 | 54.5% |
| 5d | 0.51% | 1.32 | 53.0% |
| 1d | 0.38% | 1.08 | 53.5% |
| 30d | 0.36% | 1.07 | 53.1% |

**Winner: 2-day period** shows the strongest overall performance across all signal types.

---

## Signal Type Comparison

### High Volume vs Low Volume Signals (1d Forward Returns)

#### High Volume Extreme Moves (z-score > 1.0)

| Period | Mean Return | Sharpe | Win Rate | Count |
|--------|-------------|--------|----------|-------|
| **2d** | **1.25%** | **3.14** | **59.2%** | 1,494 |
| 10d | 1.10% | 3.05 | 55.4% | 1,696 |
| 5d | 1.00% | 2.51 | 56.1% | 1,552 |
| 3d | 0.81% | 1.91 | 54.5% | 1,486 |
| 20d | 0.71% | 1.91 | 55.3% | 2,111 |
| 30d | 0.59% | 1.67 | 53.9% | 2,357 |
| 1d | 0.15% | 0.43 | 51.2% | 1,429 |

**Average: 0.80% return**

#### Low Volume Extreme Moves (z-score ≤ 1.0)

| Period | Mean Return | Sharpe | Win Rate | Count |
|--------|-------------|--------|----------|-------|
| 1d | 0.55% | 1.59 | 55.3% | 3,239 |
| 2d | 0.52% | 1.48 | 54.8% | 3,453 |
| 3d | 0.46% | 1.33 | 53.8% | 3,797 |
| 20d | 0.43% | 1.42 | 54.0% | 6,718 |
| 10d | 0.34% | 1.10 | 52.6% | 5,750 |
| 30d | 0.19% | 0.63 | 52.5% | 7,166 |
| 5d | 0.15% | 0.42 | 50.8% | 4,315 |

**Average: 0.38% return**

### **Conclusion: High volume signals outperform by 2.1x (0.80% vs 0.38%)**

High volume extreme moves show significantly stronger mean reversion, suggesting that institutional involvement or panic selling creates better reversal opportunities.

---

## Short-Term vs Long-Term Mean Reversion

### Performance by Period Length (1d Forward Returns)

| Period Group | Avg Return | Avg Sharpe | Win Rate |
|-------------|-----------|-----------|----------|
| **Short-term (1-3d)** | **0.61%** | **1.63** | **54.5%** |
| Mid-term (5-10d) | 0.58% | 1.62 | 52.9% |
| Long-term (20-30d) | 0.45% | 1.35 | 53.6% |

**Conclusion:** Short-term mean reversion (1-3 days) is slightly stronger than longer-term signals.

---

## Signal Frequency Analysis

### Total Signals Generated by Period (Across All Signal Types)

| Period | Total Signals | High Vol Signals | Low Vol Signals | Any Vol Signals |
|--------|--------------|------------------|----------------|----------------|
| 1d | 9,336 | 1,429 | 3,239 | 4,668 |
| 2d | 9,894 | 1,494 | 3,453 | 4,947 |
| 3d | 10,566 | 1,486 | 3,797 | 5,283 |
| 5d | 11,734 | 1,552 | 4,315 | 5,867 |
| 10d | 14,892 | 1,696 | 5,750 | 7,446 |
| 20d | 17,658 | 2,111 | 6,718 | 8,829 |
| 30d | 19,046 | 2,357 | 7,166 | 9,523 |

**Trade-off:** Longer periods generate more signals but with lower quality (lower Sharpe ratios).

---

## Key Insights

### 1. **Optimal Lookback Period: 2 Days**

The 2-day lookback period consistently delivers the best risk-adjusted returns:
- Highest Sharpe ratio (3.14 for high-vol signals)
- Highest average returns across signal types
- Best win rate (59.2% for high-vol signals)

### 2. **Volume is Critical**

High volume extreme moves show **dramatically stronger mean reversion**:
- 2.1x higher returns than low volume signals (0.80% vs 0.38%)
- Higher Sharpe ratios (average 2.13 vs 1.16)
- Better win rates (average 55.1% vs 53.4%)

This suggests that:
- Institutional involvement in extreme moves creates opportunities
- Panic selling with high volume is more likely to reverse
- Low volume moves may be driven by other factors (news, manipulation)

### 3. **Second Best: 10-Day Period**

The 10-day lookback also performs well:
- Sharpe ratio: 3.05 (high-vol signals)
- Mean return: 1.10% next day
- More signals than 2-day (1,696 vs 1,494)
- Good for diversification with 2-day strategy

### 4. **Very Short (1d) and Very Long (30d) Underperform**

- **1-day signals:** Too noisy, high-vol signals barely profitable (0.15% return)
- **30-day signals:** Too slow to capture sharp reversals (0.36% avg return)
- **Sweet spot:** 2-10 day lookbacks

### 5. **Mean Reversion Holds for Multi-Day Returns**

The effect persists beyond the next day:
- 2d signals → 1.69% return over next 2 days
- 5d signals → 2.11% return over next 5 days
- Suggests genuine mean reversion, not just noise

---

## Recommended Trading Strategies

### Strategy 1: Primary (Highest Sharpe Ratio)
**Configuration:**
- **Lookback:** 2 days
- **Entry Signal:** Return z-score < -1.5 AND Volume z-score > 1.0
- **Expected Return:** 1.25% next day
- **Expected Sharpe:** 3.14
- **Win Rate:** 59.2%
- **Frequency:** ~1,500 signals over 5.8 years (~260/year)

**Logic:** Buy extreme 2-day selloffs with high volume, expect rebound next day.

### Strategy 2: Secondary (More Signals)
**Configuration:**
- **Lookback:** 10 days
- **Entry Signal:** Return z-score < -1.5 AND Volume z-score > 1.0
- **Expected Return:** 1.10% next day
- **Expected Sharpe:** 3.05
- **Win Rate:** 55.4%
- **Frequency:** ~1,700 signals over 5.8 years (~290/year)

**Logic:** Buy extreme 10-day selloffs with high volume, expect rebound next day.

### Strategy 3: Combined Portfolio
**Configuration:**
- **50% allocation:** 2-day signals
- **50% allocation:** 10-day signals
- **Rationale:** Diversification across timeframes, more frequent signals
- **Expected outcome:** Sharpe ~3.0, Win rate ~57%

### Strategy 4: Aggressive (Most Signals)
**Configuration:**
- **Lookback:** 2 days
- **Entry Signal:** Return z-score < -1.5 (any volume)
- **Expected Return:** 0.74% next day
- **Expected Sharpe:** 2.02
- **Win Rate:** 56.1%
- **Frequency:** ~5,000 signals over 5.8 years (~860/year)

**Logic:** Trade all extreme 2-day selloffs regardless of volume, more opportunities but lower quality.

---

## Risk Considerations

1. **Cryptocurrency Volatility:** All returns and Sharpe ratios are based on crypto data, which is highly volatile
2. **Survivorship Bias:** Dataset may not include delisted/failed cryptocurrencies
3. **Market Regime:** Performance may vary in different market conditions (bull vs bear)
4. **Execution:** Assumes perfect execution at next day's open/close prices
5. **Transaction Costs:** Returns don't account for trading fees (typically 0.05-0.1%)
6. **Slippage:** Large positions may experience slippage, especially in smaller cap coins

---

## Implementation Notes

### Z-Score Calculation
- **Lookback window:** 30 days (for calculating mean and standard deviation)
- **No look-ahead bias:** Mean and std shifted by 1 day before calculating z-scores
- **Return z-score:** (current N-day return - rolling mean) / rolling std
- **Volume z-score:** (current N-day volume change - rolling mean) / rolling std

### Threshold Selection
- **Return threshold:** -1.5 standard deviations (bottom ~7% of distribution)
- **Volume threshold:** 1.0 standard deviations (top ~16% of distribution)
- **These can be adjusted based on risk tolerance**

### Forward Returns
- **Next-day return:** Properly shifted to avoid look-ahead bias
- **Entry:** Signal generated on day T using data through day T
- **Return:** Day T+1's price change

---

## Files Generated

1. **backtest_mean_reversion_periods_summary.csv** - Complete results for all periods and configurations
2. **backtest_mean_reversion_periods_detailed.csv** - Row-by-row data with z-scores and signals
3. **MEAN_REVERSION_PERIOD_ANALYSIS_SUMMARY.md** - This document

---

## Conclusion

The comprehensive period comparison reveals that **2-day and 10-day lookbacks with high volume filtering** provide the best mean reversion signals in cryptocurrency markets. The strategy is robust with:

- **Strong risk-adjusted returns** (Sharpe 3.0+)
- **High win rates** (55-59%)
- **Sufficient signal frequency** (~250-300/year per strategy)
- **Consistent performance** across different forward return periods

The importance of volume in mean reversion cannot be overstated - high volume extreme moves revert more than twice as strongly as low volume moves, suggesting institutional participation is a key indicator of reversal opportunities.

---

**Analysis Date:** 2025-10-25  
**Backtest Script:** `backtest_mean_reversion_periods.py`  
**Analysis Script:** `analyze_mean_reversion_results.py`
